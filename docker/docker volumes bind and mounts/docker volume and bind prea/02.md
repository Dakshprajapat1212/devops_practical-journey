Got it ğŸ‘ You want complete notes covering everything you just practiced with Docker â€” volume, mount, images, containers, and especially the --mount concept with all commands and steps.
Iâ€™ll prepare a detailed, structured document that looks like study notes + reference, so you can revise anytime.

â¸»

ğŸ“˜ Docker Volumes, Mounts & Usage â€” Complete Notes

1. Why Volumes in Docker?
	â€¢	Containers are ephemeral â†’ if a container is removed, its filesystem is lost.
	â€¢	To persist data, we use volumes.
	â€¢	Volumes are managed by Docker, stored under /var/lib/docker/volumes/.

â¸»

2. Types of Storage in Docker
	1.	Bind Mounts
	â€¢	Mounts a host machine directory into a container.
	â€¢	Example:

docker run -v /host/path:/container/path nginx


	2.	Volumes (Preferred)
	â€¢	Fully managed by Docker.
	â€¢	Stored in /var/lib/docker/volumes/.
	â€¢	Example:

docker volume create mydata
docker run -d --mount type=volume,source=mydata,target=/app nginx


	3.	Tmpfs Mounts
	â€¢	Stored in memory only, lost when container stops.
	â€¢	Example:

docker run --mount type=tmpfs,target=/app tmpfs:rw



â¸»

3. Volume Commands

Command	Description
docker volume ls	List all volumes
docker volume create <name>	Create a volume
docker volume inspect <name>	Inspect details (mountpoint, driver, etc.)
docker volume rm <name>	Remove a volume
docker volume prune	Remove unused volumes

Example:

docker volume ls
docker volume create daksh
docker volume inspect daksh

Output of inspect (important part ğŸ‘‡):

"Mountpoint": "/var/lib/docker/volumes/daksh/_data"

ğŸ‘‰ This is where Docker stores the volume data.

â¸»

4. Mounting Volumes in Containers

Old Way (-v)

docker run -d -v daksh:/app nginx

Here:
	â€¢	daksh â†’ volume name
	â€¢	/app â†’ container path

New Way (--mount)

More powerful & recommended:

docker run -d --mount type=volume,source=daksh,target=/app nginx

âœ… Advantages of --mount:
	â€¢	More explicit
	â€¢	Supports extra options
	â€¢	Works with volume, bind, and tmpfs

â¸»

5. Practical Examples

Example 1: Run a container with volume

docker volume create daksh
docker run -d --mount type=volume,source=daksh,target=/app demo

	â€¢	demo is your custom image that runs python3 app.py
	â€¢	Volume daksh will store /app data

â¸»

Example 2: Use Nginx with volume

docker run -d --mount type=volume,source=daksh,target=/usr/share/nginx/html nginx:latest

	â€¢	nginx serves files from /usr/share/nginx/html
	â€¢	By mounting daksh there, you can persist website files.

Check running container:

docker ps


â¸»

Example 3: Inspect container image

docker inspect nginx
docker inspect demo

Look at:
	â€¢	Cmd â†’ What runs inside (nginx -g 'daemon off;', python3 app.py)
	â€¢	Env â†’ Environment variables
	â€¢	Volumes â†’ Mounted volumes

â¸»

6. Common Mistakes & Fixes

âŒ Wrong:

docker run -d --mount source=daksh, target=/app demo

(Notice the extra comma)

âœ… Correct:

docker run -d --mount type=volume,source=daksh,target=/app demo


â¸»

7. Full Lifecycle Example
	1.	Create a volume

docker volume create mydata


	2.	Run a container with mount

docker run -d --name web --mount type=volume,source=mydata,target=/usr/share/nginx/html nginx


	3.	Copy a file into container

docker exec -it web bash
echo "Hello from Docker Volume" > /usr/share/nginx/html/index.html
exit


	4.	Access via container IP or exposed port â†’ youâ€™ll see the file.
	5.	Stop & remove container

docker rm -f web


	6.	Run again with same volume â†’ data persists!

docker run -d --name web2 --mount type=volume,source=mydata,target=/usr/share/nginx/html nginx

âœ… File is still there.

â¸»

8. Key Differences

-v	--mount
Old syntax	New recommended syntax
Short, less clear	Explicit key=value format
-v volume:/path	--mount type=volume,source=volume,target=/path
Still works	Preferred in production


â¸»

9. Useful Debugging
	â€¢	Check logs:

docker logs <container_id>


	â€¢	Inspect container:

docker inspect <container_id>


	â€¢	Enter container shell:

docker exec -it <container_id> bash



â¸»

10. Summary
	â€¢	Volumes â†’ Best for persistence in Docker.
	â€¢	--mount â†’ Explicit, powerful, modern way to attach storage.
	â€¢	Inspect â†’ Helps you understand image & container configuration.
	â€¢	Lifecycle demo â†’ Data inside volume survives container restarts/removal.

â¸»

ğŸ‘‰ Hannu, this document is like a ready revision sheet. You can keep it open while practicing.
Do you want me to also make a one-page quick-reference cheatsheet (just commands + examples, no theory) so you can recall instantly during practice?
